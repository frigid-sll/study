##### 配置 git

根据既往体验及口述传统，如下内容经过了很长时间沉淀来让提供更为有益:

- 确保在本地git中同时定义user.email 和 user.name

  ```
  git config --global <var> <value>
  ```

- 确保在Github个人资料中添加完整姓。请自由添加团队名、头像、喜爱的名言等等 ![;-)](https://alanhou.org/homepage/wp-content/themes/Git-alpha/assets/img/smilies/icon_wink.gif)

- ##### 拉取指定分支

  ```
  git clone -b 分支名称 git地址
  ```

  




##### 提交信息结构

提交信息有4个部分： 标签、模块、短描述和完整描述。尽量让你的消息遵循如下推荐结构

```
[TAG] module: 以短名描述修改 (理想情况为 < 50 个字符)
 
修改描述的长版本，包括修改的基本原因，
或引入功能的概述。
 
请花费更多的时间在描述所做修改的原因
而不是修改的内容。通常修改内容可通过阅读
diff来了解。仅在有技术选择或决策时才说明内容。
这时说明为什么做出这一决策。
 
使用参考结束消息，如任务或bug号、PR号,及
OPW工单, 遵循所推荐的格式：
task-123 (与任务相关)
Fixes #123  (在Github上关闭相关的issue)
Closes #123  (在Github上关闭相关的PR)
opw-123 (相关工单)
```



##### 标签和模块名

标签用作提交的前缀。应当为如下内容之一

- **[FIX]** 用于bug修复：多用于稳定版本但在开发版本中修复近期漏洞也同样有效；
- **[REF]** 用于重构：在功能进行重度重写时；
- **[ADD]** 用于添加新模块；
- **[REM]** 用于删除资源：删除无用代码、删除视图、删除模块, …;
- **[REV]** 用于恢复提交：如果提交导致问题或不需要使用这一标签进行恢复；
- **[MOV]** 用于移动文件：使用git move并且不修改所移动文件的内容，否则Git 会丢失文件的追踪和历史信息；也在将代码从一个文件移动到另一个文件时使用；
- **[REL]** 用于发行版提交；新的主版本或小稳定版本；
- **[IMP]** 用于改进：大部分在开发版本中做的修改是与其它标签无关的增量改进；
- **[MERGE]** 用于合并提交：在漏洞修改的包转发中使用，但在用作包含一些分离提交的功能的提交；
- **[CLA]** 用于签署Odoo个人贡献者证书；
- **[I18N]** 用于在翻译文件中的修改；

标签后为修改的模块名。使用技术名称作为函数名称可能会随时间改变。如果修改了一些模块，列举它们或使用多个名称来说明它是跨模块的。除非实在必要或更为简单避免在同一次提交中对多个模块修改代码。掌握模块的历史修改可能会变得困难。



##### 提交信息头

在标签和模块名之后有一个有意义的提交信息头。 应当有清晰的含义并包含修改的原因。不要使用“bugfix” 或 “improvements”这样的单个单词。尽量限制头部长度为约50个字符来保持可读性。

提交消息头在拼接了`if applied, this commit will <header>`时应该会成为有效的句子。例如 `[IMP] base: prevent to archive users linked to active partners` 是正确的，因其成为了有效的兔子`if applied, this commit will prevent users to archive...`.



##### 提交信息完整描述

在消息描述中指明修改所影响的代码部分 (模块名, lib, 切面对象, …) 及修改的描述。

首先说明**为什么**要修改代码。对于数十年（或3天）后回顾你的提交的人最重要的是你为什么这么做。这是修改的目的。

所做的修改可在提交本身中看到。如果包含一些技术选择，在提交信息的原因后进行说明也是一个好主意。对于 Odoo R&D 开发人员来说“PO 团队要求我这么做”并不是有效原因。

请避免同时进行影响多个模块的提交。尽量将影响不同的模块分割为不同的提交。如果需要对给定模块的修改进行恢复的话这会很有用。

在略显啰嗦时不要犹豫。大部分人只会看提交信息来根据几句话来判断你所做的所有修改。不要有任何压力。

**你对功能花费了几个小时、几天或几周。花一点时间来平静下来，编写清晰、易于理解的提交信息。**

如果你是Odoo R&D 开发人员，原因应当是你所处理的任务的用途。完成的详情是提交信息的核心部分。**如果你执行的任务缺乏目的性和确定性请考虑在继续之前让其变得更为清晰。**



最后以下是一些正确提交信息的示例：

```
[REF] models: 使用 `parent_path` 来实现 parent_store
 
 这会替换此前修改的预排序树状遍历(MPTT) 为
 字段 `parent_left`/`parent_right`[...]
 
[FIX] account: 删除 frenglish
 
 [...]
 
 关闭 #22793
 修改 #22769
 
[FIX] website: 删除未使用的alert div, 修复input-group-btn的样式
 
 Bootstrap的 CSS根据input-group-btn元素
 成为其父级的第一个/最后一个子级。
 对于不显示的或无用警告情况并非如此。
```

