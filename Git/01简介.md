##### 查看Linux信息

- 查看当前系统版本

  ```
  cat /etc/redhat-release
  或
  hostnamectl
  ```

- 查看内核信息

  ```
  uname -r 
  ```

- 查看所有

  ```
  uname -a
  ```



##### 查看是否安装git

```
rpm -qa git
```



##### 查看配置

```
git config
--global 使用全局配置文件
--system 使用系统级配置文件
--local 使用版本库级配置文件
```

- 配置git使用用户

  ```
  git config --global user.name "..."
  ```

- 配置git使用邮箱

  ```
  git config --global user.email "..."
  ```

- 语法高亮

  ```
  git config --global color.ui true
  ```

- 查看配置

  ```
  pert@192 data % git config --list 
  credential.helper=osxkeychain
  safe.directory=/opt/homebrew/Library/Taps/homebrew/homebrew-core
  safe.directory=/opt/homebrew/Library/Taps/homebrew/homebrew-cask
  safe.directory=/opt/homebrew
  user.name=frigid-sll
  user.email=2522908520@qq.com
  core.autocrlf=input
  color.ui=true
  core.repositoryformatversion=0
  core.filemode=true
  core.bare=false
  core.logallrefupdates=true
  core.ignorecase=true
  core.precomposeunicode=true
  
  或
  
  cat .gitconfig
  ```



##### git初始化，把一个目录初始化为版本仓库（可以是空的，也可以是非空）

```
git init
```



##### 查看当前仓库状态

```
git status
```



##### 隐藏文件介绍

- branches：分支目录

- config：定义项目特有的配置选项

- description：仅供git web程序使用

- HEAD：指示当前的分支

- hooks：包含git钩子文件

- info：包含一个全局排除文件（exclude文件）

- objects：存放所有数据内容，有info和pack两个子文件夹

- refs：存放指向数据（分支）的提交对象的指针

- index：保存暂存区信息，在执行git init的时候，这个文件还没有

  ```
  tree .git 
  ```

![image-20230321113118524](/Users/pert/Documents/mac/Git/img/1.png)



##### 添加文件到暂存区

```
git add 文件名
```

- 查看是否创建暂存区文件夹（index）

  ```
  ls -d .git/index
  ```

- 撤出暂存区

  ```
  git rm --cached 文件名
  ```

- 添加目录中所有改动过的文件到暂存区

  ```
  git add .
  或
  git add *
  ```



##### 删除文件

- 先从暂存区撤回到工作区，然后直接删除文件c

  ```
  git rm --cached c
  rm -f c
  ```

- 直接从暂存区同工作区一同删除文件c

  ```
  git rm -f c
  ```

  

##### 提交到本地仓库

```
git commit -m "注释内容"

或

git commit -am "注释内容"

-a：不用add添加了
```



##### 如何真正意义通过版本控制系统 管理文件

- 工作目录必须有文件
- 通过git add file 添加到暂存区域
- 通过git commit -m "注释内容" ，将暂存空间里的内容添加到本地仓库



##### 修改文件名字

- mv：不实用

  ```
  mv a a.txt
  ```

  - 查看状态：git status：发现是先删除了a，然后创建了a.txt

  - 需要先删除暂存区的a，再添加a.txt到暂存区

    ```
    git rm --cached a
    git add a.txt
    git commit -m "a modify a.txt"
    ```

- 使用git命令重命名：将文件a重命名为a.txt

  ```
  git mv a a.txt
  ```

  - 查看状态：`git status`
  - 提交：`git commit -m "a modify a.txt"`



##### 比对工作区和暂存区有什么不同

```
git diff
```



##### 比对暂存区和本地仓库

```
git diff --cached
```



##### 如果某个文件已经被仓库管理，后面又更改了此文件，直接一条命令提交即可

```
git commit -am "add newfile"

a必须要在m前面

相当于
git add newfile
git commit -m 'add newfile'
```



##### 查看历史提交过的信息

```
git log

#一行简单的显示commit信息
git log --oneline

#显示当前指针指向哪里
git log --oneline --decorate

#显示具体内容的变化
git log -p

#显示最近的一条日志
git log -1
```



##### 恢复历史数据：会滚数据到某一个提交

```
pert@192 data % git log --oneline
da2e56d (HEAD -> master) add a

git reset --hard da2e56d
唯一值就是 git log --oneline 里的前面的数值
```







##### 查看所有的版本

```
git reflog
```



##### 分支

- 查看

  ```
  git branch
  ```

- 创建

  ```
  git branch 分支名
  ```

- 切换

  ```
  git checkout 切换后的分支名
  ```

- 创建并切换

  ```
  git checkout -b 分支名
  ```

- 删除

  ```
  git branch -d 分支名
  ```

  

##### 合并代码

```
#切换到主分支
git checkout master

#将testing分支代码合并到master
git merge testing

#修改冲突的代码
vim 文件

#将修改后的进行提交
git commit -am '提交修改后的内容冲突文件'
```





##### 拉取指定分支

```
git clone -b 分支名称 git地址
```



