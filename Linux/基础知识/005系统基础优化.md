##### 了解系统环境

- 获得系统发行版本和具体系统版本信息

  ```
  cat /etc/redhat-release
  ```

- 获得详细信息

  ```
  uname -a
  ```

- 问题：

  - 以前你用的linux系统是什么环境的

    ```
    centos7.6 内核3.10 64位操作系统
    ```

  - 企业中管理系统用户身份是不同的

    - 普通用户如何创建

      ```
      #root身份下新建用户
      useradd 用户名
      #root身份下给用户设置密码
      passwd 用户名 
      ```

    - 普通用户如何切换

      ```
      su - 用户名
      ```

    - 查看用户是否存在
    
      ```
      id 用户名
      ```
    
    - 查看此时用户身份
    
      ```
      whoami
      ```
    
      

##### 命令提示符的优化

- 修改PS1环境变量

- 默认配置：echo $PS1

  ```
  [\u@\h \W]\$
  
  \u：显示当前登陆用户名称
  \h：显示当前主机名称
  \W：显示当前所在目录信息（目录结构的尾部信息）
  ```

- 其他参数：


| 参数 | 含义                                                 |
| ---- | ---------------------------------------------------- |
| \d   | 代表日期，weekday month date                         |
| \H   | 完整的主机名称                                       |
| \h   | 仅取主机的第一个名字                                 |
| \t   | 显示时间为24小时格式，HH：MM：SS                     |
| \T   | 显示时间为12小时格式                                 |
| \A   | 显示时间为24小时格式                                 |
| \u   | 当前用户的账号名称                                   |
| \v   | BASH版本信息                                         |
| \w   | 完整的工作目录名称。家目录会以-显示                  |
| \W   | 利用basename取得工作目录名称，所以会列出最后一个目录 |
| `\`# | 下达的第几个命令                                     |
| `\`$ | 提示字符，如果是root，提示符为#，普通用户为$         |

- 修改优化方法

  - 修改命令提示符内容

    ```
    vi /etc/profile
    
    export PS1='[\u@\H \w]\$ '
    ```

  - 命令提示符如何修改颜色

    ```
    \[\e[32;1m\][\u@\h \W]\$ \[\e[0m\]
    
    \[\e[32;1m\]：设置颜色
    [\u@\h \W]\$：命令提示符内容
    \[\e[0m\]：结束
    
    30:黑色
    31:红色
    32:绿色
    33:黄色
    34:蓝色
    35:粉色
    36:浅蓝色
    37:白色
    
    设置为彩色：多个开始一个结束
    export PS1='[\[\e[32;1m\]\u@\[\e[33;1m\]\h\[\e[32;1m\] \W\[\e[0m\]]\$'
    ```
    
    

##### yum源下载优化

- Linux和Windows软件安装程序的区别
  - windows：exe
  - linux：rpm

- yum软件优势：简单、快捷
  - 不需要到官方网站单独下载软件包（yum仓库）
  - 可以解决软件的依赖关系
- yum优化（/etc/yum.repos.d/）
  - 优化基础的yum源文件
    - 通过阿里镜像源进行优化
  - 优化扩展的yum源（阿里云eplo选项）
  
    - 通过阿离镜像源进行优化
  
      ```
      wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/Centos-7.repo?spm=a2c6h.25603864.0.0.3d975969k1391K
      ```
  - 检查可用的yum源信息
  
    ```
    yum repolist
    ```
  
- 好玩的软件包
  
  ```
  sl
  cowsay 内容
  animalsay 内容
  bash-completion：补全命令
  ```
  
- 确认软件是否安装
  
  ```
  rpm -qa sl 查看软件包是否存在
  
  rpm -ql sl 查看软件包有哪些东西
  
  
  
  rpm -qf `which ssh` 查看系统文件中是属于哪个软件包
  
  q：query 查询
  a：all 所有
  l：list 列表显示
  f；file 文件
  ```



##### 系统安全相关优化（将一些安全服务进行关闭）

- 防火墙服务程序

  - centos6:

    - 查看防火墙服务状态

      ```
      /etc/init.d/iptables status
      ```

    - 临时关闭

      ```
      /etc/init.d/iptables stop
      ```

    - 永久关闭

      ```
      chkconfig iptables off
      ```

    - 永久开启

      ```
      chkconfig iptables on
      ```

      

  - centos7:

    - 查看防火墙服务状态

      ```
      systemctl status firewalld
      ```

    - 临时关闭

      ```
      systemctl stop firewalld
      ```

    - 永久关闭

      ```
      systemctl disable firewalld
      ```

    - 永久开启

      ```
      systemctl enable firewalld
      ```

    - 查询是否在运行

      ```
      systemctl is-active firewalld
      
      unknown：没有运行
      active：正常运行
      ```

    - 查询服务是否开启运行

      ```
      systemctl is-enabled firewalld
      ```

- 系统的selinux程序：对root用户权限进行控制

  - 临时关闭

    ```
    检查是否开启：
    getenforce
    
    临时关闭：1是开启
    set-enforce 0
    ```

  - 永久关闭

    ```
    vi /etc/selinux/config
    
    SELINUX=disabled
    重启后生效
    可以先临时关闭
    
    enforcing:
    SELinux security policy is enforced
    selinux服务处于正常开启状态
    
    permissive：
    SELinux prints warnings instead of enforcing
    selinux服务被临时关闭了
    
    disabled:
    No SELinux policy is loaded
    selinux服务彻底关闭
    ```
    
    



##### 字符编码优化：

- 什么是字符编码？

  - 可以实现对非英文字符的支持

- 支持中文比较好的编码

  - utf-8：比较通用
  - gbk：比较国际通用

- 系统中字符集编码设置：`LANG`

  - 查看默认编码信息：

    ```
    echo $LANG
    ```

  - 临时修改：

    ```
    LANG=''
    ```

  - 永久修改：centos6和centos7都可以使用，优先级更高

    ```
    vi /etc/profile
    
    export LANG='zh_CN.UTF-8'
    
    source /etc/profile
    ```

    - centos6

      ```
      vi /etc/sysconfig/il8n
      source /etc/sysconfig/il8n
      ```

    - centos7

      ```
      vi /etc/locale.conf
      source /etc/locale.conf
      ```

  - centos7既可以临时也可以永久修改

    ```
    localectl set-locale LANG='zh_CN.UTF-8'
    ```

    

- 出现乱码原因：

  - 系统字符集设置有问题
  - 远程软件字符集设置有问题
  - 文件编写字符集和系统查看的字符集不统一



##### 使xshell远程连接速度加快

- 修改ssh服务配置文件

  ```
  vi /etc/sshh/sshd_config
  
  79 GSSAPIAuthentication no
  115 UseDNS no
  ```
  
- 修改hosts文件

  ```
  vi /etc/hosts
  
  添加
  本地ip 主机名
  ```
  
- 重启ssh远程服务

  ```
  systemctl restart sshd
  ```
  
  
