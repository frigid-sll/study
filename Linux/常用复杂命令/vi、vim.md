

##### vi/vim

- 命令模式：

  - 移动光标位置并进入编辑状态
    - i：从光标所在位置进入编辑状态
    - I：将光标移动到一行的行首进入编辑状态
    - o：将光标新起下一行进入编辑状态
    - O：将光标新起上一行进入编辑状态
    - A：将光标移到行尾进行编辑
    - a：下一个字符进行编辑
    - C：将光标到行尾内容进行剪切，并进入编辑模式
    - cc：将整行内容进行删除并进入编辑模式
  - 移动光标位置不进入编辑状态
    - G：移动到文件的最后一行
    - gg：移动到文件的第一行
    - ngg：指定移动到第n行
    - $：移动到行尾
    - ^或0：移动到行首
    - dd：剪切一行
    - ndd：剪切n行
    - p：粘贴
    - np：粘贴n行
    - yy：复制一行
    - nyy：复制y行
    - dG：将光标到行尾的内容进行删除
  - `u`：撤销操作

- 编辑模式

- 底行模式：输入`:`或者`/`或者`?`

  - `/`：进入搜索状态，向下搜索，（n依次向下）

  - `:`：输入一些命令

    ```
    set nu显示行数
    set nonu 取消显示行数
    ```

  - `？`：向上搜索（n依次向上）

    ```
    搜索时忽略大小写： :se ic
    取消忽略大小写：	:se noic
    
    搜索时就忽略大小写： /oldboy\c		加上一个\c
    ```

    



##### vim

- 打开文件直接跳转到第几行

  ```
  vim 1.txt +8
  跳转到第八行
  ```

- 取消高亮显示

  - 搜索一个文件中没有的内容

- 将第二行到第四行到内容放到第九行后面

  ```
  :2,4move9
  ```

- 将第二行到第四行内容复制到第九行后面

  ```
  :2,4copy9
  ```

- 将所有的oldboy换成oldgirl

  ```
  %s#oldboy#oldgirl#g
  ```

- 将第二行到第四行到oldgirl进行替换oldboy

  ```
  2,4s#oldgirl#oldboy#g
  ```

- 将第十二行到结尾内容进行替换

  ```
  12,$s#替换前内容#替换后内容#g
  ```

  ```
  %全部做替换
  s substitute 替换
  g global 将整行的内容符合需求的进行替换
  ```

- 批量进行注释

  ```
  vim 文件
  ctrl+v 进入视图模式 VISUAL BLOCK
  方向键进行选择，上下 选中行
  选择好行后 按shift+i 进行单行编辑
  编辑好后按esc，其他选中的行也都按照刚才编辑的行进行了修改
  ```

- 批量删除信息

  ```
  vim 文件
  ctrl+v 进入视图模式 VISUAL BLOCK
  方向键进行选择，左右 选中列
  按键盘d或x
  ```

- 工作原理

  - 开始利用vim编辑一个文件
  - 需要判断编辑的文件所在目录中是否有隐藏文件
    - 有：会有报错提示信息
    - 没有：进入到命令模式

  - 在命令模式就会产生临时文件
  - 进入编辑模式对文件进行编辑
  - 编辑完成之后需要确定是否正常退出
    - 正常：从编辑状态--esc---命令模式---:wq!保存退出（临时文件重命名）
    - 非正常退出：临时文件会永久保留

